/*!
 * 基于jQuery的星级评价小插件
 * 
 * @link https://github.com/zhanguangcheng/jquery-star-rating
 * @author Grass <14712905@qq.com>
 * @version 0.1
 */
(function(a){if(typeof define=="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports=="object"){module.exports=a(require("jquery"))}else{if(typeof layui=="object"){layui.define("jquery",a)}else{a(jQuery)}}}})(function(b){var a={defaultStar:0,starNumber:5,step:0.5,theme:"images/default.jpg",eventHover:function(d,e,c){},eventOut:function(d,e,c){},eventChange:function(d,e,c){},starWidth:24,starHeight:24};b.fn.starRating=function(e){e=b.extend({},a,e);var c=function(f){return Math.ceil((f/e.starWidth).toFixed(1)/e.step)/(1/e.step)};var d=function(f,g){var h=e.starHeight*2;if(g==e.starNumber){h=e.starHeight*3}else{if(g>=e.starNumber*0.6){h=e.starHeight}}b(".choose-star",f).css({width:e.starWidth*e.step*g*(1/e.step),backgroundPosition:"left -"+h+"px"})};b.each(this,function(){var h=b(this);var f=e.defaultStar;var g;h.bind("starRating:hover",e.eventHover);h.bind("starRating:out",e.eventOut);h.bind("starRating:change",e.eventChange);h.html('<div class="choose-star"></div>');h.css({width:e.starWidth*e.starNumber,height:e.starHeight,background:"url("+e.theme+") repeat-x left top"});h.find(".choose-star").css({width:e.starWidth*e.defaultStar,height:e.starHeight,background:"url("+e.theme+") repeat-x left top"});d(h,f);h.on("mousemove",function(i){var j=c(i.offsetX);if(g!=j){g=j;d(h,j);h.trigger("starRating:hover",[j,e])}}).on("mouseleave",function(i){d(h,f);g=f;h.trigger("starRating:out",[f,e])}).on("click",function(i){f=c(i.offsetX);h.trigger("starRating:change",[f,e])})})}});